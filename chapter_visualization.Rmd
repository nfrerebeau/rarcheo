# (PART) Visualisation de données {-}

# Introduction
## Recherche empirique en matière de visualisation de données

Il n'existe pas de principes absolus ou de pratiques idéales en matière de visualisation de données, mais il existe une abondante littérature sur la question. Il résulte de cette dernière quelques principes récurrents, souvent motivés par des préoccupations éthiques et esthétiques. Un exemple de préoccupation éthique est le principe selon lequel seules les données séquentielles peuvent être reliées à un graphique linéaire, car la ligne implique un changement continu entre les points. Les mesures de catégories, telles que les types d'artefacts, les lieux et les méthodes, ne doivent pas être reliées par des lignes (par exemple, il n'y a pas de séquence continue entre un artefact en pierre et un os d'animal). Un principe connexe est que, lorsque les magnitudes absolues des données sont importantes, l'axe vertical doit commencer à zéro [@robbins2005; @strange2007]. L'affichage des données le long d'un axe vertical qui ne comprend pas le zéro peut donner une fausse représentation de l'étendue des données et exagérer l'ampleur relative entre les valeurs. Un autre ensemble influent d'idées provient des mantras minimalistes de @tufte2001. L'un de ses principes les plus fréquemment cités est "maximiser le rapport données-encre, dans la limite du raisonnable" [@tufte1990]. L'"encre de données" fait référence à l'encre utilisée pour afficher les données, et le rapport entre les données et l'encre est donc la quantité d'encre de données par rapport à l'encre totale utilisée dans une visualisation. Ces principes garantissent que les données ne sont pas cachées ou déformées par de mauvais choix ou des éléments non pertinents sur la visualisation, et que le lecteur peut apprécier les données dans la visualisation sans distraction ni confusion. Les conséquences pratiques de ce conseil sont notamment d'éviter les graphiques tridimensionnels lorsque des graphiques bidimensionnels suffisent (par exemple, les diagrammes à barres et les diagrammes circulaires). De même, le fait d'omettre les éléments superflus --- grilles, couleurs et éléments artistiques sur les graphiques --- contribue à améliorer le rapport données-encre.

Si ces principes ont un attrait intuitif et sont largement répétés, ils peuvent conduire à des graphiques très minimalistes difficiles à interpréter [@tukey1990]. @inbar2007 et @kulla-mader2007 ont constaté que les graphiques standard étaient largement préférés aux graphiques minimalistes de style Tufte. @kosslyn1992 et @carswell1992, ont soulevé la question de savoir comment décider ce qui est de l'encre de données et ce qui ne l'est pas, et ont conclu que cela est souvent très subjectif. @hullman2011 ont suggéré que certaines données-encres peuvent profiter aux lecteurs en favorisant l'engagement avec la visualisation. Par exemple, @bateman2010 ainsi que @li2014 ont constaté que les sujets à qui l'on présentait des graphiques avec des éléments graphiques avaient beaucoup plus de chances de comprendre le message du graphique que ceux à qui l'on présentait des graphiques sans éléments graphiques. @kelly1989 n'a trouvé aucune différence dans le rappel immédiat d'informations provenant de graphiques à encres de données élevées et faibles dans un format de journal. De même, @mcgurgan2015 a constaté que les participants ont signalé des niveaux similaires de précision et d'effort mental lorsqu'ils ont répondu à des questions de compréhension de graphiques à l'aide de diagrammes à barres et de boxplots avec des ratios d'encre de données variables. D'autre part, Gillan et Richman [-@gillan1994; -@gillan1994] ont trouvé un soutien empirique pour le principe de maximisation de l'encrage des données. Ils ont constaté que le pourcentage d'interprétations correctes des données des graphiques était significativement plus faible pour les graphiques à faible encrage que pour les graphiques à encrage moyen et élevé. Ce bref résumé des recherches sur le ratio data-ink montre qu'il s'agit d'un concept problématique, qui ne bénéficie que d'un soutien empirique équivoque. En somme, il semble que les principes fondés sur des questions subjectives d'esthétique des graphiques, souvent observés dans les conceptions de graphiques de style Tufte, ne conduisent pas toujours aux visualisations les plus efficaces.

Ces résultats mitigés suggèrent que le minimalisme esthétique ne garantit pas toujours que nos visualisations de données soient faciles à interpréter avec précision. Quels sont donc les principes de base pour optimiser la vitesse à laquelle un lecteur peut percevoir les modèles dans les données, et la précision des informations qu'il peut extraire de la visualisation ? Dans le contexte d'une présentation de poster, ces optimisations sont hautement souhaitables, car le lecteur d'un poster espère généralement obtenir des informations beaucoup plus rapidement que s'il était assis à lire un article savant.

@cleveland1984 ont mené des expériences en utilisant plusieurs types courants de visualisation de données pour tester la précision avec laquelle les sujets pouvaient lire des valeurs ponctuelles et faire des comparaisons dans les données. Ils ont constaté que les types de graphiques basés sur la longueur (tels que les graphiques à points et les graphiques à barres) étaient lus avec beaucoup plus de précision que les types de graphiques basés sur l'angle, la surface ou le volume (tels que les graphiques circulaires et les graphiques tridimensionnels). En outre, ils ont constaté que les performances sont nettement moins bonnes sur des diagrammes à barres empilées que sur des diagrammes à barres alignées, et que les comparaisons entre barres adjacentes sont plus précises qu'entre barres très éloignées. De nombreuses études ultérieures ont généralement confirmé ces résultats [@heer2010; @kosara2010; @talbot2014]. @heer2010 ont reproduit les résultats de base pour la comparaison des tailles entre catégories, et ont également constaté que l'ajout de lignes de quadrillage sur une parcelle améliorait la précision. @kosara2010 ont testé des diagrammes de type tarte carrée ou gaufre (un carré divisé en 10 x 10 = 100 cellules) ainsi que des diagrammes de type tarte, barre empilée et beignet, et ont constaté que les répondants étaient plus confiants dans leur lecture des diagrammes de type tarte carrée et plus précis dans la lecture des valeurs du diagramme, par rapport aux autres types. @zubiaga2015 ont testé les répondants avec cinq types de graphiques (diagrammes à barres montrant la valeur moyenne de la distribution, diagrammes en essaims, boîtes à moustaches, diagrammes à barres empilées et histogrammes) afin de déterminer leur efficacité relative pour visualiser les distributions de variables. Ils ont constaté que les histogrammes sont les plus complets en termes de détails fournis, et qu'ils constituent le type de graphique qui conduit les répondants à la compréhension la plus précise des données sous-jacentes. @rangecroft2003 et @schonlau2012 ont constaté que les répondants peuvent lire les diagrammes circulaires en 2D avec plus de précision que les diagrammes circulaires en 3D. @zacks1998 ont trouvé un résultat similaire pour les diagrammes à barres 2D par rapport aux diagrammes à barres 3D.

Des expériences récentes ont jeté un peu de lumière sur la rivalité traditionnelle entre les diagrammes en secteurs et les diagrammes en barres [@spence2005]. Pour les jugements de comparaison entre catégories, les barres sont jugées plus précisément que les tartes [@feldman-stewart2000]. Cependant, pour les estimations de la proportion du tout, les diagrammes en camembert sont aussi précis que les diagrammes en bâtons [@simkin1987; @spence1990]. Pour les comparaisons par paires, les diagrammes circulaires et les diagrammes à barres ont également des performances similaires [@spence1991; @meyer1997]. Ces études montrent que, dans certaines conditions, les graphiques en secteurs peuvent être plus efficaces que les graphiques en barres. Le meilleur choix du type de graphique dépend de l'objectif du graphique [@kosslyn1992], et les preuves ne permettent pas de faire une prescription universelle sur les types de graphiques.

Bien que ces études empiriques démontrent une relation complexe entre le type de graphique et l'efficacité, elles peuvent fournir un classement simple, bien qu'approximatif, des stratégies de visualisation des données. Les diagrammes à points et les diagrammes à barres se situent généralement à l'extrémité supérieure du spectre, ainsi que des styles plus exotiques comme les diagrammes en gaufre et les histogrammes. Parmi les types de graphiques de rang inférieur, on trouve les diagrammes à barres empilées et les diagrammes circulaires. Tout type de graphique en 3D est classé en dernier.

# Représentations
## Représenter des quantités {#graph-quantites}

On peut créer un diagramme en barres à l'aide de la fonction `barplot()`, dont l'argument `height` accepte un vecteur ou une matrice permettant de décrire les barres qui composent le graphique.

```{r}
# Charger les données depuis le package folio
data(chevelon, package = "folio")

# Calculer la somme de chaque colonne (type d'artefact)
# Trier dans l'ordre croissant
chevelon_total <- sort(colSums(chevelon))

barplot(
  height = chevelon_total,
  ylab = "Nombre d'artefacts",
  las = 2 # étiquettes perpendiculaires aux axes
)
```

```{r}
# Charger les données depuis le package folio
data(mississippi, package = "folio")

# Calculer la somme de chaque colonne (type d'artéfact)
# Trier dans l'ordre croissant
mississippi_total <- sort(colSums(mississippi))

# Ajuster les marges autour du graphique
# (permet de ne pas tronquer les étiquettes)
par(mar = c(5, 9, 4, 1) + 0.1)
barplot(
  height = mississippi_total, 
  horiz = TRUE, # dessiner les barres horizontalement
  xlab = "Nombre d'artefacts",
  las = 1 # étiquettes des axes horizontales
)
```

```{r}
# Charger les données depuis le package folio
data(compiegne, package = "folio")

# Déterminer l'ordre des colonnes à partir de leurs sommes
# (ici dans l'ordre décroissant)
compiegne_order <- order(colSums(compiegne), decreasing = TRUE)
# Permuter les colonnes
compiegne_sorted <- compiegne[, compiegne_order]

barplot(
  height = as.matrix(compiegne_sorted), # doit être une matrice
  col = c("#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2"),
  legend.text = rownames(compiegne),
  beside = TRUE,
  ylab = "Nombre d'artefacts",
  las = 1
)
```

## Représenter des propotions {#graph-propotions}

## Représenter des distributions {#graph-distributions}

## Réprésenter des relations entre variables {#graph-xy}

## Représenter des séries temporelles {#graph-series}

## Représenter des tendances {#graph-tendances}

## Diagrammes 3D
Ne faites pas ça.
